You are an expert full‑stack engineer building a data visualization web app for the UIDAI Data Hackathon 2026.

PROJECT SUMMARY
I want to build an India Demographic Heatmap Visualization Tool:
- Users upload UIDAI-style demographic CSVs with columns:
  - date (DD-MM-YYYY)
  - state
  - district
  - pincode (6-digit)
  - demo_age_5_17
  - demo_age_17_
- The app validates and parses the CSV.
- Then it shows an interactive India map (Leaflet) with:
  - Heatmap by State → District → Pincode
  - Drill-down and drill-up
  - Tooltips with counts and totals
- There is a side filter panel (date range, state/district, age group, population range).
- Below the map there is a small analytics dashboard:
  - Summary cards
  - Top-10 bar chart
  - Table of regions with sorting + search
- Users can export filtered data and a simple PDF/CSV report.

TECH STACK CONSTRAINTS
- Frontend: React 18 + TypeScript + Vite
- Styling: Tailwind CSS
- Mapping: Leaflet (or React-Leaflet) with India GeoJSON/TopoJSON
- CSV parsing: PapaParse
- Client storage: IndexedDB (or in-memory first, then IndexedDB)
- Charts: Recharts (or D3 if you prefer)
- Export: jsPDF + html2canvas for PDF, CSV export via browser APIs

IMPORTANT: PLAN FIRST, THEN EXECUTE
Before writing or changing any code, do the following:

1. PROJECT ANALYSIS & PLAN
   - Read the existing files in the workspace (if any).
   - Summarize the current state of the project in 5–8 bullet points.
   - Create a detailed IMPLEMENTATION PLAN as a numbered list of tasks, grouped into phases:
     Phase 1 – Project setup & dependencies
     Phase 2 – Data model & CSV upload + validation
     Phase 3 – Map view + heatmap rendering
     Phase 4 – Filters + state management
     Phase 5 – Dashboard (charts + table)
     Phase 6 – Export (CSV + basic PDF)
     Phase 7 – Polishing, UX, and testing
   - For each task, specify:
     - Files to create or modify
     - Key components/hooks to implement
     - Libraries to use
   - STOP after producing this plan and ask for my approval: 
     “Review this plan and say APPROVE or EDIT with changes.”

2. AFTER APPROVAL – STEP-BY-STEP EXECUTION
Once I reply APPROVE, implement the plan in small, reviewable steps:

   Phase 1 – PROJECT SETUP
   - Ensure Vite + React + TypeScript are correctly configured.
   - Add Tailwind CSS setup.
   - Install required libraries:
     - react, react-dom, typescript, vite
     - tailwindcss, postcss, autoprefixer
     - leaflet, react-leaflet, @types/leaflet
     - papaparse, @types/papaparse
     - recharts
     - zustand OR @tanstack/react-query
     - jspdf, html2canvas
   - Create a basic layout: header, left filter sidebar, main map area, bottom dashboard.

   Phase 2 – DATA MODEL + CSV UPLOAD
   - Define TypeScript interfaces for DemographicRecord and aggregated views.
   - Build a CSVUpload component that:
     - Accepts .csv files
     - Uses PapaParse to parse
     - Validates:
       - Required columns
       - Date format DD-MM-YYYY
       - 6-digit pincode
       - Numeric fields for demo_age_5_17 and demo_age_17_
     - Shows clear validation errors.
   - Store parsed data in a global store (e.g., Zustand) or React Query cache.

   Phase 3 – MAP + HEATMAP
   - Add India GeoJSON (states + optionally districts) under public/data.
   - Implement MapViewer using React-Leaflet:
     - Base map centered on India
     - Layer that aggregates data by state/district/pincode
     - Heatmap or choropleth coloring based on total population.
   - Implement drill-down (click state → see districts → see pincodes as points).

   Phase 4 – FILTERS
   - Implement a FilterPanel with:
     - Date range picker
     - State/district selectors
     - Age group toggle (5–17, 17+, total)
     - Population range slider
   - Wire filters to recompute aggregated map data and dashboard data.

   Phase 5 – DASHBOARD
   - Summary cards (total population, number of regions, date range).
   - Recharts bar chart for top 10 regions.
   - Table with sortable columns and search.

   Phase 6 – EXPORT
   - CSV export of current filtered dataset.
   - Simple PDF export:
     - Screenshot of map (html2canvas)
     - Summary stats
     - Top 10 table.

   Phase 7 – POLISH & TEST
   - Add loading states and error states.
   - Ensure responsive layout for desktop and mobile.
   - Add basic unit tests or smoke tests (if reasonable).
   - Clean up code structure and add comments where needed.

EXECUTION RULES
- Work in small steps. After each major step, briefly summarize what changed.
- Do not introduce extra frameworks (no backend, no auth) unless I ask.
- If something is ambiguous, ASK me a clarification question instead of assuming.
- Keep components and hooks modular and well-typed.
- Prefer clarity over cleverness in the code.

FIRST ACTION NOW
1. Assume there is an empty or near-empty React + TS project.
2. Produce ONLY:
   - (a) A short project status summary (if files exist)
   - (b) A detailed multi-phase implementation plan as described above.
3. Then STOP and ask for my APPROVAL before you touch any files.
